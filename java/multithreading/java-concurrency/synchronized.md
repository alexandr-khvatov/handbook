# synchronized

Лучше не синхронизироваться по объекту с которым работаешь в блоке синхронизации и immutable объектами( которые возвращают свои копии) т.к поток попадет в blocked-set объекта, а т.к как он immutable ссылка будет заменена на его новое представление.

Если поток зашел в synchronized(Param) блок по переменной Param,  то вс остальные потоки, которые пытаются зайти в synchronized(Param) блок по той же переменной Param - блокируются  - это 1 свойство.

2 свойство - если один поток выходит из закрывающей скобки synchronized(Param), а другой заходит, то между выходом и входом образуется отношение happens - before, это значит что было записано внутри одного synchronized(Param) можно прочитать внутри другого synchronized(Param) (synchronized по одному объекту синхронизации).

![](<../../.gitbook/assets/image (308).png>)

![](<../../.gitbook/assets/image (351).png>)

#### <mark style="color:red;">**По причине того, что synchronized исключает возможность использовать различные кэши , а также блокирует потоки -  ИЗ-ЗА этого synchronized тормозит программу.**</mark>

## ПРИМЕР 1:

![](<../../.gitbook/assets/image (56).png>)

![](<../../.gitbook/assets/image (149).png>)

![](<../../.gitbook/assets/image (418).png>)
